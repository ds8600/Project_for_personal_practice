<!DOCTYPE html>
<html lang="ko" data-bs-theme="light">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>아바타 검색,임시데이터 UI</title>

  <link
    href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/css/bootstrap.min.css"
    rel="stylesheet"
    integrity="sha384-4bw+/aepP/YC94hEpVNVgiZdgIC5+VKNBQNGCHeKRQN+PtmoHDEXuppvnDJzQIu9"
    crossorigin="anonymous"
  />
</head>
<body>
  <div class="container py-4">
    <header class="mb-4 d-flex justify-content-between align-items-center position-relative pt-4">
      <button
        id="themeToggle"
        type="button"
        class="btn btn-sm btn-outline-secondary position-absolute top-0 start-50 translate-middle-x shadow-sm"
        aria-pressed="false"
        title="테마 전환"
      >🌙 다크모드</button>

      <div>
        <h1 class="h3 mb-0">아바타 검색</h1>
      </div>
      <div class="text-end">
        <div><span id="nowTime" class="text-muted small">--:--:--</span></div>
        <div class="mt-2">
          <span id="currentUserName" class="me-2 d-none"></span>
          <button id="openSignupBtn" class="btn btn-sm btn-outline-primary" data-bs-toggle="modal" data-bs-target="#signupModal">회원가입</button>
          <button id="logoutBtn" class="btn btn-sm btn-outline-secondary d-none">로그아웃</button>
        </div>
      </div>
    </header>

    <form class="row g-3 align-items-end" id="searchForm">
      <div class="col-12">
        <label for="qInput" class="form-label">제품명</label>
        <div class="input-group">
          <input type="text" class="form-control" id="qInput" placeholder="제품명을 입력해주세요" />
          <button type="submit" class="btn btn-primary" id="searchBtn">조회</button>
        </div>
      </div>

      <div class="col-6 col-md-3">
        <label class="form-label d-block">카테고리</label>
        <div class="dropdown">
          <button class="btn btn-outline-secondary dropdown-toggle w-100" type="button" id="categoryBtn" data-bs-toggle="dropdown" aria-expanded="false">
            전체
          </button>
          <ul class="dropdown-menu" aria-labelledby="categoryBtn">
            <li><a class="dropdown-item category-option" href="#" data-value="">전체</a></li>
            <li><a class="dropdown-item category-option" href="#" data-value="상의">상의</a></li>
            <li><a class="dropdown-item category-option" href="#" data-value="하의">하의</a></li>
            <li><a class="dropdown-item category-option" href="#" data-value="신발">신발</a></li>
            <li><a class="dropdown-item category-option" href="#" data-value="패션잡화">패션잡화</a></li>
          </ul>
        </div>
        <input type="hidden" id="categoryValue" value="">
      </div>

      <div class="col-6 col-md-3">
        <label for="classSelect" class="form-label">직업</label>
        <select class="form-select" id="classSelect" name="classRestriction">
          <option value="">전체</option>
          <option value="전사(남)">전사(남)</option>
          <option value="전사(여)">전사(여)</option>
          <option value="무도가(남)">무도가(남)</option>
          <option value="무도가(여)">무도가(여)</option>
          <option value="헌터(남)">헌터(남)</option>
          <option value="헌터(여)">헌터(여)</option>
          <option value="마법사">마법사</option>
          <option value="암살자">암살자</option>
          <option value="스페셜리스트">스페셜리스트</option>
        </select>
      </div>

      <div class="col-6 col-md-3">
        <label for="priceMin" class="form-label">최소 가격</label>
        <input type="number" class="form-control" id="priceMin" placeholder="0" min="0" />
      </div>

      <div class="col-6 col-md-3">
        <label for="priceMax" class="form-label">최대 가격</label>
        <input type="number" class="form-control" id="priceMax" placeholder="200000" min="0" />
      </div>

      <div class="col-6 col-md-3">
        <label for="sortSelect" class="form-label">정렬</label>
        <select class="form-select" id="sortSelect" name="sort">
          <option value="recent" selected>최신순</option>
          <option value="priceAsc">가격↑</option>
          <option value="priceDesc">가격↓</option>
        </select>
      </div>

      <div class="col-12">
        <button type="reset" class="btn btn-outline-secondary" id="resetBtn">초기화</button>
      </div>
    </form>

    <section class="mt-4" id="resultSection">
      <div id="statusArea" class="mb-3"></div>

      <div class="table-responsive">
        <table class="table table-hover table-striped align-middle mb-0" id="resultTable">
          <thead class="table-light">
            <tr>
              <th scope="col">이름</th>
              <th scope="col">등급</th>
              <th scope="col">분류</th>
              <th scope="col">직업</th>
              <th scope="col" class="text-end">가격(원)</th>
              <th scope="col">업데이트</th>
            </tr>
          </thead>
          <tbody id="resultTbody"></tbody>
        </table>
      </div>

      <nav class="d-flex justify-content-center mt-4" aria-label="검색 결과 페이지 이동">
        <ul class="pagination" id="pagination"></ul>
      </nav>
    </section>
  </div>

  <div class="modal fade" id="signupModal" tabindex="-1" aria-labelledby="signupModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-dialog-scrollable">
      <div class="modal-content">
        <form id="signupForm" novalidate>
          <div class="modal-header">
            <h5 class="modal-title" id="signupModalLabel">회원가입</h5>
            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="닫기"></button>
          </div>
          <div class="modal-body">
            <div class="mb-3">
              <label for="sg_id" class="form-label">아이디</label>
              <input type="text" class="form-control" id="sg_id" name="id" minlength="6" required placeholder="6자 이상, 영문/숫자">
            </div>
            <div class="mb-3">
              <label for="sg_pw1" class="form-label">비밀번호</label>
              <input type="password" class="form-control" id="sg_pw1" name="password" minlength="8" required placeholder="8자 이상, 문자+숫자">
            </div>
            <div class="mb-3">
              <label for="sg_pw2" class="form-label">비밀번호 확인</label>
              <input type="password" class="form-control" id="sg_pw2" name="password2" minlength="8" required>
            </div>
            <div class="row g-3">
              <div class="col-md-6">
                <label for="sg_name" class="form-label">이름</label>
                <input type="text" class="form-control" id="sg_name" name="name" required>
              </div>
              <div class="col-md-6">
                <label for="sg_email" class="form-label">이메일</label>
                <input type="email" class="form-control" id="sg_email" name="email" required>
              </div>
            </div>
            <div class="row g-3 mt-0">
              <div class="col-md-6">
                <label for="sg_phone" class="form-label">전화번호</label>
                <input type="tel" class="form-control" id="sg_phone" name="phone" inputmode="numeric" pattern="^[0-9\\-]{9,13}$" placeholder="010-1234-5678">
              </div>
              <div class="col-md-6">
                <label class="form-label d-block">성별</label>
                <div class="form-check form-check-inline">
                  <input class="form-check-input" type="radio" id="sg_gender_m" name="gender" value="남" checked>
                  <label class="form-check-label" for="sg_gender_m">남</label>
                </div>
                <div class="form-check form-check-inline">
                  <input class="form-check-input" type="radio" id="sg_gender_f" name="gender" value="여">
                  <label class="form-check-label" for="sg_gender_f">여</label>
                </div>
              </div>
            </div>
            <div id="signupErr" class="alert alert-danger mt-3 d-none"></div>
          </div>
          <div class="modal-footer">
            <button type="button" class="btn btn-outline-secondary" data-bs-dismiss="modal">취소</button>
            <button type="submit" class="btn btn-primary">가입하기</button>
          </div>
        </form>
      </div>
    </div>
  </div>

  <script
    src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-HwwvtgBNo3bZJJLYd8oVXjrBZt8cqVSpeBNS5n7C8IVInixGAoxmnlMuBnhbgrkm"
    crossorigin="anonymous"
  ></script>

  <script src="./app.js"></script>
</body>
</html>
